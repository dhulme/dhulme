{"version":3,"sources":["webpack:///static/js/app.4d58ff6481087657a8ac.js","webpack:///./src/App.vue?b8bd","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///src/App.vue"],"names":["webpackJsonp","6A2P","module","exports","6nfk","AyJN","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","attrs","dark","backgroundActive","enableBackground","_v","label","model","value","callback","$$v","timeSignature","expression","type","bpm","color","large","on","click","toggleRunning","_s","running","tapTempo","staticClass","href","staticRenderFns","esExports","FbEL","HNa/","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_422993b9_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2_vuetify_es5_components_Vuetify__","use","config","productionTip","el","template","components","App","P0ba","XC5Q","YQVQ","q/9b","qRVk","xJD8","__WEBPACK_IMPORTED_MODULE_0_vuetify_es5_components_VApp__","__WEBPACK_IMPORTED_MODULE_1_vuetify_es5_components_VGrid_VContainer__","__WEBPACK_IMPORTED_MODULE_2_vuetify_es5_components_VTextField__","__WEBPACK_IMPORTED_MODULE_3_vuetify_es5_components_VBtn__","__WEBPACK_IMPORTED_MODULE_4_vuetify_es5_components_VCheckbox__","metronomeSound","Audio","metronomeUpSound","VApp","VContainer","VTextField","VBtn","VCheckbox","data","count","totalCount","time","performance","now","soundReady","tapTempoTimes","tapTempoTime","computed","interval","measure","beats","Number","split","watch","mounted","_this","frame","tick","requestAnimationFrame","methods","_this2","tickActive","play","updateBackground","setTimeout","set","reset","push","averageTime","reduce","acc","tap","length","Math","round"],"mappings":"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","file":"static/js/app.4d58ff6481087657a8ac.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"6A2P\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"6nfk\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"AyJN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":_vm.backgroundActive && _vm.enableBackground}},[_c('main',[_c('v-container',[_c('h1',[_vm._v(\"Metronome\")]),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"Time Signature\"},model:{value:(_vm.timeSignature),callback:function ($$v) {_vm.timeSignature=$$v},expression:\"timeSignature\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"BPM\",\"type\":\"number\"},model:{value:(_vm.bpm),callback:function ($$v) {_vm.bpm=$$v},expression:\"bpm\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"large\":\"\"},on:{\"click\":_vm.toggleRunning}},[_vm._v(\"\\n        \"+_vm._s(_vm.running ? 'Stop' : 'Start')+\"\\n      \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.tapTempo}},[_vm._v(\"Tap tempo\")]),_vm._v(\" \"),_c('v-checkbox',{staticClass:\"checkbox\",attrs:{\"label\":\"Flash\"},model:{value:(_vm.enableBackground),callback:function ($$v) {_vm.enableBackground=$$v},expression:\"enableBackground\"}}),_vm._v(\" \"),_c('a',{staticClass:\"about-link\",attrs:{\"href\":\"https://github.com/dhulme/metronome/blob/master/README.md\"}},[_vm._v(\"About\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"FbEL\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"HNa/\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_422993b9_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"AyJN\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"6A2P\")\n  __webpack_require__(\"YQVQ\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_422993b9_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuetify_es5_components_Vuetify__ = __webpack_require__(\"M+UZ\");\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vuetify_es5_components_Vuetify__[\"a\" /* default */]);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: {\n    App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */]\n  }\n});\n\n/***/ }),\n\n/***/ \"P0ba\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"XC5Q\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YQVQ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"q/9b\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"qRVk\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuetify_es5_components_VApp__ = __webpack_require__(\"IcMm\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuetify_es5_components_VGrid_VContainer__ = __webpack_require__(\"NUs8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuetify_es5_components_VTextField__ = __webpack_require__(\"/yi5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vuetify_es5_components_VBtn__ = __webpack_require__(\"7Q1V\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vuetify_es5_components_VCheckbox__ = __webpack_require__(\"z8aH\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\nvar metronomeSound = new Audio('./static/metronome.wav');\nvar metronomeUpSound = new Audio('./static/metronome-up.wav');\n\nvar TAP_TEMPO_RESET_TIME = 2000;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  components: {\n    VApp: __WEBPACK_IMPORTED_MODULE_0_vuetify_es5_components_VApp__[\"a\" /* default */],\n    VContainer: __WEBPACK_IMPORTED_MODULE_1_vuetify_es5_components_VGrid_VContainer__[\"a\" /* default */],\n    VTextField: __WEBPACK_IMPORTED_MODULE_2_vuetify_es5_components_VTextField__[\"a\" /* default */],\n    VBtn: __WEBPACK_IMPORTED_MODULE_3_vuetify_es5_components_VBtn__[\"a\" /* default */],\n    VCheckbox: __WEBPACK_IMPORTED_MODULE_4_vuetify_es5_components_VCheckbox__[\"a\" /* default */]\n  },\n  data: function data() {\n    return {\n      bpm: 128,\n      running: false,\n      count: 0,\n      totalCount: 1,\n      time: performance.now(),\n      timeSignature: '4/4',\n      soundReady: false,\n      tapTempoTimes: [],\n      tapTempoTime: null,\n      backgroundActive: false,\n      enableBackground: false\n    };\n  },\n\n  computed: {\n    interval: function interval() {\n      return 60 * 1000 / (this.bpm * (this.measure / 4));\n    },\n    beats: function beats() {\n      return Number(this.timeSignature.split('/')[0]);\n    },\n    measure: function measure() {\n      return Number(this.timeSignature.split('/')[1]);\n    }\n  },\n  watch: {\n    bpm: 'reset',\n    beats: 'reset',\n    measure: 'reset'\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var frame = function frame() {\n      var d = performance.now() - _this.time;\n      if (d / _this.totalCount > _this.interval) {\n        _this.tick();\n        _this.totalCount += 1;\n      }\n      requestAnimationFrame(frame);\n    };\n    requestAnimationFrame(frame);\n  },\n\n  methods: {\n    toggleRunning: function toggleRunning() {\n      var _this2 = this;\n\n      this.running = !this.running;\n      this.tickActive = false;\n\n      if (this.running) {\n        metronomeUpSound.play();\n        this.updateBackground();\n        setTimeout(function () {\n          metronomeSound.play();\n          _this2.updateBackground();\n        }, this.interval);\n        this.set(2);\n      }\n    },\n    set: function set(count) {\n      this.totalCount = count;\n      this.count = count;\n      this.time = performance.now();\n    },\n    reset: function reset() {\n      this.set(0);\n    },\n    tick: function tick() {\n      if (!this.running) {\n        return;\n      }\n\n      if (this.count === this.beats) {\n        this.count = 0;\n      }\n      if (this.count === 0) {\n        metronomeUpSound.play();\n      } else {\n        metronomeSound.play();\n      }\n      this.updateBackground();\n      this.count += 1;\n    },\n    updateBackground: function updateBackground() {\n      this.backgroundActive = !this.backgroundActive;\n    },\n    tapTempo: function tapTempo() {\n      if (!this.running) {\n        this.toggleRunning();\n      }\n\n      var now = performance.now();\n      if (!this.tapTempoTime || now - TAP_TEMPO_RESET_TIME > this.tapTempoTime) {\n        this.tapTempoTimes = [];\n      } else if (this.tapTempoTime) {\n        this.tapTempoTimes.push(now - this.tapTempoTime);\n      }\n      this.tapTempoTime = now;\n\n      var averageTime = this.tapTempoTimes.reduce(function (acc, tap) {\n        return acc + tap;\n      }, 0) / this.tapTempoTimes.length || 0;\n\n      if (averageTime !== 0) {\n        this.bpm = Math.round(60 * 1000 / averageTime) / (this.measure / 4);\n      }\n    }\n  }\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.4d58ff6481087657a8ac.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":_vm.backgroundActive && _vm.enableBackground}},[_c('main',[_c('v-container',[_c('h1',[_vm._v(\"Metronome\")]),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"Time Signature\"},model:{value:(_vm.timeSignature),callback:function ($$v) {_vm.timeSignature=$$v},expression:\"timeSignature\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"BPM\",\"type\":\"number\"},model:{value:(_vm.bpm),callback:function ($$v) {_vm.bpm=$$v},expression:\"bpm\"}}),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\",\"large\":\"\"},on:{\"click\":_vm.toggleRunning}},[_vm._v(\"\\n        \"+_vm._s(_vm.running ? 'Stop' : 'Start')+\"\\n      \")]),_vm._v(\" \"),_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.tapTempo}},[_vm._v(\"Tap tempo\")]),_vm._v(\" \"),_c('v-checkbox',{staticClass:\"checkbox\",attrs:{\"label\":\"Flash\"},model:{value:(_vm.enableBackground),callback:function ($$v) {_vm.enableBackground=$$v},expression:\"enableBackground\"}}),_vm._v(\" \"),_c('a',{staticClass:\"about-link\",attrs:{\"href\":\"https://github.com/dhulme/metronome/blob/master/README.md\"}},[_vm._v(\"About\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-422993b9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = AyJN\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-422993b9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-422993b9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-422993b9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","import Vue from 'vue';\n\nimport App from './App';\nimport Vuetify from 'vuetify/es5/components/Vuetify';\n\nVue.use(Vuetify);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { \n    App\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <v-app :dark=\"backgroundActive && enableBackground\">\n    <main>\n      <v-container>\n        <h1>Metronome</h1>\n        <v-text-field v-model=\"timeSignature\" label=\"Time Signature\"></v-text-field>\n        <v-text-field v-model=\"bpm\" label=\"BPM\" type=\"number\"></v-text-field>\n        <v-btn color=\"primary\" large @click=\"toggleRunning\">\n          {{ running ? 'Stop' : 'Start' }}\n        </v-btn>\n        <v-btn large color=\"secondary\" @click=\"tapTempo\">Tap tempo</v-btn>\n        <v-checkbox label=\"Flash\" v-model=\"enableBackground\" class=\"checkbox\"></v-checkbox>\n        <a href=\"https://github.com/dhulme/metronome/blob/master/README.md\" class=\"about-link\">About</a>\n      </v-container>\n    </main>\n  </v-app>\n</template>\n\n<script>\n  import VApp from 'vuetify/es5/components/VApp';\n  import VContainer from 'vuetify/es5/components/VGrid/VContainer';\n  import VTextField from 'vuetify/es5/components/VTextField';\n  import VBtn from 'vuetify/es5/components/VBtn';\n  import VCheckbox from 'vuetify/es5/components/VCheckbox';\n\n  const metronomeSound = new Audio('./static/metronome.wav');\n  const metronomeUpSound = new Audio('./static/metronome-up.wav');\n\n  const TAP_TEMPO_RESET_TIME = 2000;\n\n  export default {\n    components: {\n      VApp,\n      VContainer,\n      VTextField,\n      VBtn,\n      VCheckbox,\n    },\n    data() {\n      return {\n        bpm: 128,\n        running: false,\n        count: 0,\n        totalCount: 1,\n        time: performance.now(),\n        timeSignature: '4/4',\n        soundReady: false,\n        tapTempoTimes: [],\n        tapTempoTime: null,\n        backgroundActive: false,\n        enableBackground: false,\n      };\n    },\n    computed: {\n      interval() {\n        return (60 * 1000) / (this.bpm * (this.measure / 4));\n      },\n      beats() {\n        return Number(this.timeSignature.split('/')[0]);\n      },\n      measure() {\n        return Number(this.timeSignature.split('/')[1]);\n      },\n    },\n    watch: {\n      bpm: 'reset',\n      beats: 'reset',\n      measure: 'reset',\n    },\n    mounted() {\n      const frame = () => {\n        const d = performance.now() - this.time;\n        if (d / this.totalCount > this.interval) {\n          this.tick();\n          this.totalCount += 1;\n        }\n        requestAnimationFrame(frame);\n      };\n      requestAnimationFrame(frame);\n    },\n    methods: {\n      toggleRunning() {\n        this.running = !this.running;\n        this.tickActive = false;\n\n        if (this.running) {\n          metronomeUpSound.play();\n          this.updateBackground();\n          setTimeout(() => {\n            metronomeSound.play();\n            this.updateBackground();\n          }, this.interval);\n          this.set(2);\n        }\n      },\n      set(count) {\n        this.totalCount = count;\n        this.count = count;\n        this.time = performance.now();\n      },\n      reset() {\n        this.set(0);\n      },\n      tick() {\n        if (!this.running) {\n          return;\n        }\n\n        if (this.count === this.beats) {\n          this.count = 0;\n        }\n        if (this.count === 0) {\n          metronomeUpSound.play();\n        } else {\n          metronomeSound.play();\n        }\n        this.updateBackground();\n        this.count += 1;\n      },\n      updateBackground() {\n        this.backgroundActive = !this.backgroundActive;\n      },\n      tapTempo() {\n        if (!this.running) {\n          this.toggleRunning();\n        }\n\n        const now = performance.now();\n        if (!this.tapTempoTime || (now - TAP_TEMPO_RESET_TIME > this.tapTempoTime)) {\n          this.tapTempoTimes = [];\n        } else if (this.tapTempoTime) {\n          this.tapTempoTimes.push(now - this.tapTempoTime);\n        }\n        this.tapTempoTime = now;\n\n        const averageTime = (this.tapTempoTimes.reduce((acc, tap) => {\n          return acc + tap;\n        }, 0) / this.tapTempoTimes.length) || 0;\n\n        if (averageTime !== 0) {\n          this.bpm = Math.round((60 * 1000) / averageTime) / (this.measure / 4);\n        }\n      },\n    },\n  };\n</script>\n\n<style lang=\"stylus\">\n  @import '../node_modules/vuetify/src/stylus/app';\n</style>\n\n<style>\n  .checkbox {\n    margin-top: 1rem;\n    margin-left: 6px;\n  }\n\n  .input-group label {\n    transition: none !important;\n  }\n\n  .input-group__details:before {\n    transition: none !important;\n  }\n\n  .about-link {\n    position: absolute;\n    bottom: 2rem;\n  }\n</style>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}